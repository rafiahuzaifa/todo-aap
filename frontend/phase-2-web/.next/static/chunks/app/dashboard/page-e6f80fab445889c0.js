(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9734:function(e,t,s){Promise.resolve().then(s.bind(s,4605))},4369:function(e,t,s){"use strict";var a=s(2265),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=a.useState,r=a.useEffect,i=a.useLayoutEffect,c=a.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!n(e,s)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),a=l({inst:{value:s,getSnapshot:t}}),n=a[0].inst,u=a[1];return i(function(){n.value=s,n.getSnapshot=t,o(n)&&u({inst:n})},[e,s,t]),r(function(){return o(n)&&u({inst:n}),e(function(){o(n)&&u({inst:n})})},[e]),c(s),s};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},2860:function(e,t,s){"use strict";var a=s(2265),n=s(2558),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=n.useSyncExternalStore,i=a.useRef,c=a.useEffect,o=a.useMemo,u=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,a,n){var d=i(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;var f=r(e,(d=o(function(){function e(e){if(!c){if(c=!0,r=e,e=a(e),void 0!==n&&m.hasValue){var t=m.value;if(n(t,e))return i=t}return i=e}if(t=i,l(r,e))return t;var s=a(e);return void 0!==n&&n(t,s)?(r=e,t):(r=e,i=s)}var r,i,c=!1,o=void 0===s?null:s;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,s,a,n]))[0],d[1]);return c(function(){m.hasValue=!0,m.value=f},[f]),u(f),f}},2558:function(e,t,s){"use strict";e.exports=s(4369)},5195:function(e,t,s){"use strict";e.exports=s(2860)},4605:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var a=s(7437),n=s(4717),l=s(1586),r=s(9820),i=s(279),c=s(2381),o=s(2265);function u(e){let{onSubmit:t,isLoading:s}=e,[n,l]=(0,o.useState)({title:"",description:"",priority:"medium"}),u=e=>{let{name:t,value:s}=e.target;l(e=>({...e,[t]:s}))};return(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)(r.ll,{children:"Create Task"}),(0,a.jsx)(r.SZ,{children:"Add a new task to your list"})]}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),null==t||t(n),l({title:"",description:"",priority:"medium"})},className:"space-y-6",children:[(0,a.jsx)(i.II,{label:"Task Title",name:"title",value:n.title,onChange:u,placeholder:"What needs to be done?",required:!0}),(0,a.jsx)(i.gx,{label:"Description",name:"description",value:n.description,onChange:u,placeholder:"Add more details...",rows:4}),(0,a.jsx)(i.Ph,{label:"Priority",name:"priority",value:n.priority,onChange:u,options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]}),(0,a.jsx)(c.z,{type:"submit",isLoading:s,className:"w-full",children:"Create Task"})]})})]})}var d=s(3448);let m={default:"bg-slate-100 text-slate-700",success:"bg-emerald-50 text-emerald-700",warning:"bg-amber-50 text-amber-700",error:"bg-red-50 text-red-700",info:"bg-blue-50 text-blue-700"};function f(e){let{variant:t="default",children:s,className:n}=e;return(0,a.jsx)("span",{className:(0,d.cn)("inline-flex items-center rounded-full px-3 py-1 text-sm font-medium",m[t],n),children:s})}var x=s(9322),h=s(9205);let g=(0,h.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),p=(0,h.Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),b={pending:{label:"Pending",icon:x.Z,color:"warning"},"in-progress":{label:"In Progress",icon:g,color:"info"},completed:{label:"Completed",icon:p,color:"success"}},j={low:{label:"Low",badge:"default"},medium:{label:"Medium",badge:"warning"},high:{label:"High",badge:"error"}};function v(e){let{title:t,description:s,status:n,priority:l,createdAt:i}=e,c=b[n],o=j[l],u=c.icon;return(0,a.jsxs)(r.Zb,{className:"overflow-hidden transition-all duration-300 hover:shadow-lg",children:[(0,a.jsxs)(r.Ol,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-start justify-between gap-4",children:[(0,a.jsx)(r.ll,{className:"line-clamp-2 text-lg",children:t}),(0,a.jsx)(f,{variant:o.badge,children:o.label})]}),s&&(0,a.jsx)(r.SZ,{className:"line-clamp-2",children:s})]}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u,{className:"h-4 w-4 text-slate-400"}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-600",children:c.label})]}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:new Date(i).toLocaleDateString()})]})})]})}let y=e=>{let t;let s=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),s.forEach(s=>s(t,e))}},n=()=>t,l={setState:a,getState:n,getInitialState:()=>r,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},r=t=e(a,n,l);return l},k=e=>e?y(e):y;var N=s(5195);let{useDebugValue:w}=o,{useSyncExternalStoreWithSelector:S}=N,E=!1,T=e=>e,C=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?k(e):e,s=(e,s)=>(function(e,t=T,s){s&&!E&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),E=!0);let a=S(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return w(a),a})(t,e,s);return Object.assign(s,t),s},I=e=>e?C(e):C,O=I(e=>({isLoggedIn:!1,user:null,token:null,setAuth:(t,s)=>{localStorage.setItem("access_token",s),e({isLoggedIn:!0,user:t,token:s})},logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),e({isLoggedIn:!1,user:null,token:null})}}));I(e=>({tasks:[],loading:!1,setTasks:t=>e({tasks:t}),addTask:t=>e(e=>({tasks:[t,...e.tasks]})),updateTask:(t,s)=>e(e=>({tasks:e.tasks.map(e=>e.id===t?{...e,...s}:e)})),deleteTask:t=>e(e=>({tasks:e.tasks.filter(e=>e.id!==t)})),setLoading:t=>e({loading:t})}));var D=s(5475);function P(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,d.cn)("animate-pulse rounded-lg bg-slate-200",t),...s})}function _(e){let{rows:t=5}=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex gap-4 rounded-lg bg-white p-4",children:[(0,a.jsx)(P,{className:"h-4 flex-1"}),(0,a.jsx)(P,{className:"h-4 flex-1"}),(0,a.jsx)(P,{className:"h-4 flex-1"})]}),Array.from({length:t}).map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-4 rounded-lg bg-white p-4",children:[(0,a.jsx)(P,{className:"h-4 flex-1"}),(0,a.jsx)(P,{className:"h-4 flex-1"}),(0,a.jsx)(P,{className:"h-4 flex-1"})]},t))]})}function A(){let{isLoggedIn:e}=O(),t=(0,D.useRouter)(),[s,r]=(0,o.useState)([]),[i,c]=(0,o.useState)(!0);(0,o.useEffect)(()=>{e?d():t.push("/login")},[e,t]);let d=async()=>{try{let e=await fetch("/api/tasks"),t=await e.json();r(t.data||[])}catch(e){console.error("Failed to fetch tasks:",e)}finally{c(!1)}},m=async e=>{try{(await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&d()}catch(e){console.error("Failed to create task:",e)}};return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Header,{}),(0,a.jsx)("main",{className:"flex-1",children:(0,a.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-12 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-slate-900",children:"Your Tasks"}),(0,a.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:"Manage and organize your daily tasks efficiently"})]}),(0,a.jsxs)("div",{className:"grid gap-8 lg:grid-cols-3",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(u,{onSubmit:m})}),(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"All Tasks"})}),i?(0,a.jsx)(_,{rows:5}):0===s.length?(0,a.jsx)("div",{className:"rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 p-12 text-center",children:(0,a.jsx)("p",{className:"text-lg text-slate-600",children:"No tasks yet. Create your first task to get started!"})}):(0,a.jsx)("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-1",children:s.map(e=>(0,a.jsx)(v,{title:e.title,description:e.description,status:e.status||"pending",priority:e.priority||"medium",createdAt:e.created_at},e.id))})]})]})]})}),(0,a.jsx)(l.Footer,{})]}):(0,a.jsx)("div",{children:"Redirecting..."})}}},function(e){e.O(0,[32,126,971,117,744],function(){return e(e.s=9734)}),_N_E=e.O()}]);