(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9734:function(e,t,s){Promise.resolve().then(s.bind(s,3394))},2934:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},4369:function(e,t,s){"use strict";var n=s(2265),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=n.useState,r=n.useEffect,i=n.useLayoutEffect,c=n.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!a(e,s)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),n=l({inst:{value:s,getSnapshot:t}}),a=n[0].inst,u=n[1];return i(function(){a.value=s,a.getSnapshot=t,o(a)&&u({inst:a})},[e,s,t]),r(function(){return o(a)&&u({inst:a}),e(function(){o(a)&&u({inst:a})})},[e]),c(s),s};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2860:function(e,t,s){"use strict";var n=s(2265),a=s(2558),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=a.useSyncExternalStore,i=n.useRef,c=n.useEffect,o=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,n,a){var d=i(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;var f=r(e,(d=o(function(){function e(e){if(!c){if(c=!0,r=e,e=n(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return i=t}return i=e}if(t=i,l(r,e))return t;var s=n(e);return void 0!==a&&a(t,s)?(r=e,t):(r=e,i=s)}var r,i,c=!1,o=void 0===s?null:s;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,s,n,a]))[0],d[1]);return c(function(){m.hasValue=!0,m.value=f},[f]),u(f),f}},2558:function(e,t,s){"use strict";e.exports=s(4369)},5195:function(e,t,s){"use strict";e.exports=s(2860)},3394:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var n=s(7437),a=s(2265),l=s(4717),r=s(1586),i=s(9820),c=s(279),o=s(2381);function u(e){let{onSubmit:t,isLoading:s}=e,[l,r]=(0,a.useState)({title:"",description:"",priority:"medium"}),u=e=>{let{name:t,value:s}=e.target;r(e=>({...e,[t]:s}))};return(0,n.jsxs)(i.Zb,{children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"Create Task"}),(0,n.jsx)(i.SZ,{children:"Add a new task to your list"})]}),(0,n.jsx)(i.aY,{children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),null==t||t(l),r({title:"",description:"",priority:"medium"})},className:"space-y-6",children:[(0,n.jsx)(c.II,{label:"Task Title",name:"title",value:l.title,onChange:u,placeholder:"What needs to be done?",required:!0}),(0,n.jsx)(c.gx,{label:"Description",name:"description",value:l.description,onChange:u,placeholder:"Add more details...",rows:4}),(0,n.jsx)(c.Ph,{label:"Priority",name:"priority",value:l.priority,onChange:u,options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]}),(0,n.jsx)(o.z,{type:"submit",isLoading:s,className:"w-full",children:"Create Task"})]})})]})}var d=s(3448);let m={default:"bg-slate-100 text-slate-700",success:"bg-emerald-50 text-emerald-700",warning:"bg-amber-50 text-amber-700",error:"bg-red-50 text-red-700",info:"bg-blue-50 text-blue-700"};function f(e){let{variant:t="default",children:s,className:a}=e;return(0,n.jsx)("span",{className:(0,d.cn)("inline-flex items-center rounded-full px-3 py-1 text-sm font-medium",m[t],a),children:s})}var x=s(9322),h=s(1723),g=s(2934);let p={pending:{label:"Pending",icon:x.Z,color:"warning"},"in-progress":{label:"In Progress",icon:h.Z,color:"info"},completed:{label:"Completed",icon:g.Z,color:"success"}},b={low:{label:"Low",badge:"default"},medium:{label:"Medium",badge:"warning"},high:{label:"High",badge:"error"}};function j(e){let{title:t,description:s,status:a,priority:l,createdAt:r}=e,c=p[a],o=b[l],u=c.icon;return(0,n.jsxs)(i.Zb,{className:"overflow-hidden transition-all duration-300 hover:shadow-lg",children:[(0,n.jsxs)(i.Ol,{className:"pb-3",children:[(0,n.jsxs)("div",{className:"mb-2 flex items-start justify-between gap-4",children:[(0,n.jsx)(i.ll,{className:"line-clamp-2 text-lg",children:t}),(0,n.jsx)(f,{variant:o.badge,children:o.label})]}),s&&(0,n.jsx)(i.SZ,{className:"line-clamp-2",children:s})]}),(0,n.jsx)(i.aY,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(u,{className:"h-4 w-4 text-slate-400"}),(0,n.jsx)("span",{className:"text-sm font-medium text-slate-600",children:c.label})]}),(0,n.jsx)("span",{className:"text-xs text-slate-500",children:new Date(r).toLocaleDateString()})]})})]})}let v=e=>{let t;let s=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=n?n:"object"!=typeof a||null===a)?a:Object.assign({},t,a),s.forEach(s=>s(t,e))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>r,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},r=t=e(n,a,l);return l},y=e=>e?v(e):v;var k=s(5195);let{useDebugValue:N}=a,{useSyncExternalStoreWithSelector:w}=k,S=!1,E=e=>e,T=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?y(e):e,s=(e,s)=>(function(e,t=E,s){s&&!S&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),S=!0);let n=w(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return N(n),n})(t,e,s);return Object.assign(s,t),s},C=e=>e?T(e):T,I=C(e=>({isLoggedIn:!1,user:null,token:null,setAuth:(t,s)=>{localStorage.setItem("access_token",s),e({isLoggedIn:!0,user:t,token:s})},logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),e({isLoggedIn:!1,user:null,token:null})}}));C(e=>({tasks:[],loading:!1,setTasks:t=>e({tasks:t}),addTask:t=>e(e=>({tasks:[t,...e.tasks]})),updateTask:(t,s)=>e(e=>({tasks:e.tasks.map(e=>e.id===t?{...e,...s}:e)})),deleteTask:t=>e(e=>({tasks:e.tasks.filter(e=>e.id!==t)})),setLoading:t=>e({loading:t})}));var O=s(5475);function D(e){let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,d.cn)("animate-pulse rounded-lg bg-slate-200",t),...s})}function Z(e){let{rows:t=5}=e;return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex gap-4 rounded-lg bg-white p-4",children:[(0,n.jsx)(D,{className:"h-4 flex-1"}),(0,n.jsx)(D,{className:"h-4 flex-1"}),(0,n.jsx)(D,{className:"h-4 flex-1"})]}),Array.from({length:t}).map((e,t)=>(0,n.jsxs)("div",{className:"flex gap-4 rounded-lg bg-white p-4",children:[(0,n.jsx)(D,{className:"h-4 flex-1"}),(0,n.jsx)(D,{className:"h-4 flex-1"}),(0,n.jsx)(D,{className:"h-4 flex-1"})]},t))]})}function P(){let{isLoggedIn:e}=I(),t=(0,O.useRouter)(),[s,i]=(0,a.useState)([]),[c,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{e?d():t.push("/login")},[e,t]);let d=async()=>{try{let e=await fetch("/api/tasks"),t=await e.json();i(t.data||[])}catch(e){console.error("Failed to fetch tasks:",e)}finally{o(!1)}},m=async e=>{try{(await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&d()}catch(e){console.error("Failed to create task:",e)}};return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.h,{}),(0,n.jsx)("main",{className:"flex-1",children:(0,n.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-12 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"mb-12",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-slate-900",children:"Your Tasks"}),(0,n.jsx)("p",{className:"mt-2 text-lg text-slate-600",children:"Manage and organize your daily tasks efficiently"})]}),(0,n.jsxs)("div",{className:"grid gap-8 lg:grid-cols-3",children:[(0,n.jsx)("div",{className:"lg:col-span-1",children:(0,n.jsx)(u,{onSubmit:m})}),(0,n.jsxs)("div",{className:"lg:col-span-2",children:[(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"All Tasks"})}),c?(0,n.jsx)(Z,{rows:5}):0===s.length?(0,n.jsx)("div",{className:"rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 p-12 text-center",children:(0,n.jsx)("p",{className:"text-lg text-slate-600",children:"No tasks yet. Create your first task to get started!"})}):(0,n.jsx)("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-1",children:s.map(e=>(0,n.jsx)(j,{title:e.title,description:e.description,status:e.status||"pending",priority:e.priority||"medium",createdAt:e.created_at},e.id))})]})]})]})}),(0,n.jsx)(r.$,{})]}):(0,n.jsx)("div",{children:"Redirecting..."})}}},function(e){e.O(0,[32,126,971,117,744],function(){return e(e.s=9734)}),_N_E=e.O()}]);